(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{4787:function(e,t,s){Promise.resolve().then(s.bind(s,6509))},6091:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var r=s(7437),a=s(2265),n=s(7256),l=s(6061),i=s(3933);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary/90 backdrop-blur-sm text-primary-foreground hover:bg-primary/80",destructive:"bg-destructive/90 backdrop-blur-sm text-destructive-foreground hover:bg-destructive/80",outline:"border border-input bg-background/50 backdrop-blur-sm hover:bg-accent/50 hover:text-accent-foreground",secondary:"bg-secondary/80 backdrop-blur-sm text-secondary-foreground hover:bg-secondary/70",ghost:"hover:bg-accent/50 backdrop-blur-sm hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:d=!1,...c}=e,m=d?n.g7:"button";return(0,r.jsx)(m,{className:(0,i.cn)(o({variant:a,size:l,className:s})),ref:t,...c})});d.displayName="Button"},8509:function(e,t,s){"use strict";s.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return c},eW:function(){return m},ll:function(){return o}});var r=s(7437),a=s(2265),n=s(3933);let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border border-white/30 bg-white/70 backdrop-blur-md text-foreground shadow-md",s),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});i.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent";let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})});m.displayName="CardFooter"},8661:function(e,t,s){"use strict";s.r(t),s.d(t,{MBTIProvider:function(){return c},getMBTIResult:function(){return u},useMBTI:function(){return m}});var r=s(7437),a=s(2265);let n={ISTJ:{type:"ISTJ",description:"진지하고 조용하며 현실적인 성격으로, 책임감과 인내력이 강한 관리자형 성격입니다.",compatibleTypes:["ESTP","ESFP"]},ISFJ:{type:"ISFJ",description:"조용하고 우호적이며 책임감이 강하고 양심적인 보호자형 성격입니다.",compatibleTypes:["ESFP","ESTP"]},INFJ:{type:"INFJ",description:"이상주의적이고 통찰력이 뛰어나며 창의적인 옹호자형 성격입니다.",compatibleTypes:["ENFP","ENTP"]},INTJ:{type:"INTJ",description:"독창적인 사고를 가진 전략가형으로, 지식을 추구하며 높은 기준을 가진 성격입니다.",compatibleTypes:["ENFP","ENTP"]},ISTP:{type:"ISTP",description:"논리적이고 실용적인 장인형 성격으로, 문제 해결에 능숙합니다.",compatibleTypes:["ESFJ","ESTJ"]},ISFP:{type:"ISFP",description:"조용하고 친절하며 예술적 감각이 뛰어난 예술가형 성격입니다.",compatibleTypes:["ESTJ","ESFJ"]},INFP:{type:"INFP",description:"이상주의적이고 충실하며 자신의 가치에 따라 행동하는 중재자형 성격입니다.",compatibleTypes:["ENTJ","ENFJ"]},INTP:{type:"INTP",description:"논리적이고 창의적인 사색가형 성격으로, 지적 호기심이 강합니다.",compatibleTypes:["ENTJ","ENFJ"]},ESTP:{type:"ESTP",description:"활동적이고 적응력이 강한 사업가형 성격으로, 현실적이고 실용적입니다.",compatibleTypes:["ISFJ","ISTJ"]},ESFP:{type:"ESFP",description:"자유롭고 친절한 연예인형 성격으로, 현재의 즐거움을 추구합니다.",compatibleTypes:["ISTJ","ISFJ"]},ENFP:{type:"ENFP",description:"열정적이고 창의적인 활동가형 성격으로, 새로운 가능성을 탐색합니다.",compatibleTypes:["INTJ","INFJ"]},ENTP:{type:"ENTP",description:"창의적이고 논쟁을 좋아하는 변론가형 성격으로, 지적 도전을 추구합니다.",compatibleTypes:["INFJ","INTJ"]},ESTJ:{type:"ESTJ",description:"체계적이고 관리를 잘하는 경영자형 성격으로, 책임감이 강합니다.",compatibleTypes:["ISFP","ISTP"]},ESFJ:{type:"ESFJ",description:"친절하고 사교적인 집정관형 성격으로, 타인을 돕고 배려합니다.",compatibleTypes:["ISTP","ISFP"]},ENFJ:{type:"ENFJ",description:"카리스마 있고 이타적인 지도자형 성격으로, 타인의 성장을 돕습니다.",compatibleTypes:["INFP","INTP"]},ENTJ:{type:"ENTJ",description:"대담하고 결단력 있는 지휘관형 성격으로, 효율적인 계획을 세웁니다.",compatibleTypes:["INTP","INFP"]}},l={currentQuestionIndex:0,answers:Array(12).fill(-1),scores:{E:0,I:0,S:0,N:0,T:0,F:0,J:0,P:0},result:null},i=(e,t)=>{switch(t.type){case"ANSWER_QUESTION":{let s=[...e.answers];s[t.questionIndex]=t.answerIndex;let r={...e.scores},a=o(t.questionIndex);return"EI"===a?0===t.answerIndex||1===t.answerIndex?r.E+=1:r.I+=1:"SN"===a?0===t.answerIndex||2===t.answerIndex?r.S+=1:r.N+=1:"TF"===a?0===t.answerIndex||2===t.answerIndex?r.T+=1:r.F+=1:"JP"===a&&(0===t.answerIndex||2===t.answerIndex?r.J+=1:r.P+=1),{...e,answers:s,scores:r}}case"NEXT_QUESTION":return{...e,currentQuestionIndex:e.currentQuestionIndex+1};case"CALCULATE_RESULT":{let{scores:t}=e,s=[t.E>t.I?"E":"I",t.S>t.N?"S":"N",t.T>t.F?"T":"F",t.J>t.P?"J":"P"].join("");return{...e,result:s}}case"RESET":return l;default:return e}},o=e=>["EI","TF","SN","JP","EI","SN","TF","JP","EI","SN","TF","JP"][e],d=(0,a.createContext)(void 0),c=e=>{let{children:t}=e,[s,n]=(0,a.useReducer)(i,l);return(0,r.jsx)(d.Provider,{value:{state:s,answerQuestion:(e,t)=>{n({type:"ANSWER_QUESTION",questionIndex:e,answerIndex:t})},nextQuestion:()=>{n({type:"NEXT_QUESTION"})},calculateResult:()=>{n({type:"CALCULATE_RESULT"})},resetTest:()=>{n({type:"RESET"})}},children:t})},m=()=>{let e=(0,a.useContext)(d);if(void 0===e)throw Error("useMBTI must be used within an MBTIProvider");return e},u=e=>e&&n[e]||null},3933:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(7042),a=s(4769);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}},6509:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return I}});var r=s(7437),a=s(8509),n=s(6091),l=s(8661),i=s(1396),o=s.n(i),d=s(2265),c=s(2245),m=s(5453),u=s(1045),x=s(2549),p=s(3933);let f=u.fC;u.xz;let N=e=>{let{...t}=e;return(0,r.jsx)(u.h_,{...t})};N.displayName=u.h_.displayName;let h=d.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(u.aV,{ref:t,className:(0,p.cn)("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a})});h.displayName=u.aV.displayName;let b=d.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsxs)(N,{children:[(0,r.jsx)(h,{}),(0,r.jsxs)(u.VY,{ref:t,className:(0,p.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-white/30 bg-white/70 backdrop-blur-md p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg",s),...n,children:[a,(0,r.jsxs)(u.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(x.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});b.displayName=u.VY.displayName;let y=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,p.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};y.displayName="DialogHeader";let g=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,p.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};g.displayName="DialogFooter";let j=d.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(u.Dx,{ref:t,className:(0,p.cn)("text-lg font-semibold leading-none tracking-tight",s),...a})});j.displayName=u.Dx.displayName,d.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(u.dk,{ref:t,className:(0,p.cn)("text-sm text-muted-foreground",s),...a})}).displayName=u.dk.displayName;let T=["ISTJ","ISFJ","INFJ","INTJ","ISTP","ISFP","INFP","INTP","ESTP","ESFP","ENFP","ENTP","ESTJ","ESFJ","ENFJ","ENTJ"],w=()=>{let{state:e,resetTest:t}=(0,l.useMBTI)(),{result:s}=e,[i,u]=(0,d.useState)({totalParticipants:0,typeCount:{}}),[x,p]=(0,d.useState)([]),[N,h]=(0,d.useState)(""),[w,I]=(0,d.useState)(""),[v,S]=(0,d.useState)(1),[E,P]=(0,d.useState)(5),[J,F]=(0,d.useState)(!1),C=(0,l.getMBTIResult)(s);(0,d.useEffect)(()=>{if(s){let e=localStorage.getItem("mbti-stats"),t=e?JSON.parse(e):{totalParticipants:0,typeCount:{}};t.totalParticipants+=1,t.typeCount[s]=(t.typeCount[s]||0)+1,u(t),localStorage.setItem("mbti-stats",JSON.stringify(t)),k()}},[s]);let k=()=>{let e=localStorage.getItem("mbti-comments");e&&p(JSON.parse(e).map(e=>({...e,rating:void 0!==e.rating?e.rating:5})))},R=()=>{t()},M=e=>0===i.totalParticipants?0:Math.round((i.typeCount[e]||0)/i.totalParticipants*100),O=e=>{let t=M(e);return t>0?"".concat(t,"%"):"2%"},_=T.filter(e=>i.typeCount[e]&&i.typeCount[e]>0),z=5*v,B=x.slice(z-5,z),Z=Math.ceil(x.length/5),A=e=>S(e),D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],s=Math.floor(e);for(let e=0;e<s;e++)t.push((0,r.jsx)(c.Z,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},"full-".concat(e)));e%1!=0&&t.push((0,r.jsx)(m.Z,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},"half"));let a=5-Math.ceil(e);for(let e=0;e<a;e++)t.push((0,r.jsx)(c.Z,{className:"w-4 h-4 text-yellow-400/40"},"empty-".concat(e)));return t};return C?(0,r.jsxs)(a.Zb,{className:"w-full max-w-md mx-auto shadow-lg bg-card/90 backdrop-blur-md",children:[(0,r.jsxs)(a.Ol,{className:"text-center pb-0",children:[(0,r.jsx)(a.ll,{className:"text-xl font-medium text-primary-foreground/80 mb-2",children:"당신의 MBTI 유형은"}),(0,r.jsx)(a.ll,{className:"text-4xl font-bold text-primary",children:C.type}),(0,r.jsx)(a.SZ,{className:"mt-4 text-base",children:C.description})]}),(0,r.jsxs)(a.aY,{className:"space-y-6 pt-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3 text-center text-primary-foreground/90",children:"궁합이 좋은 유형"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3",children:C.compatibleTypes.map(e=>{let t=(0,l.getMBTIResult)(e);return(0,r.jsxs)("div",{className:"border border-border/50 rounded-lg p-3 bg-muted/30 hover:bg-muted/50 transition-colors",children:[(0,r.jsx)("p",{className:"font-bold text-primary text-center mb-1",children:e}),(0,r.jsxs)("p",{className:"text-sm text-foreground/80",children:[null==t?void 0:t.description.substring(0,30),"..."]})]},e)})})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-3 text-center text-primary-foreground/90",children:["지금까지 참여자 수 ",i.totalParticipants,"명"]}),(0,r.jsx)("div",{className:"space-y-2",children:_.length>0?_.map(e=>(0,r.jsxs)("div",{className:"relative ".concat(e===C.type?"bg-primary/10 rounded-md p-1":""),children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,r.jsx)("span",{className:"text-sm font-medium ".concat(e===C.type?"text-primary font-bold":""),children:e}),(0,r.jsxs)("span",{className:"text-xs text-foreground/70",children:[i.typeCount[e]||0,"명 (",M(e),"%)"]})]}),(0,r.jsx)("div",{className:"h-2 w-full bg-muted/30 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full ".concat(e===C.type?"bg-primary":"bg-secondary/70"),style:{width:O(e)}})})]},e)):(0,r.jsx)("p",{className:"text-center text-foreground/70 text-sm",children:"아직 참여자가 없습니다."})})]}),(0,r.jsxs)("div",{className:"mt-6 border-t border-border/30 pt-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3 text-center text-primary-foreground/90",children:"댓글 남기기"}),(0,r.jsx)("div",{className:"mb-4 text-center",children:(0,r.jsx)(n.z,{onClick:()=>F(!0),className:"px-6 py-2",children:"새 댓글 작성하기"})}),(0,r.jsx)(f,{open:J,onOpenChange:F,children:(0,r.jsxs)(b,{className:"sm:max-w-md",children:[(0,r.jsx)(y,{children:(0,r.jsx)(j,{className:"text-center text-xl",children:"댓글 남기기"})}),(0,r.jsxs)("div",{className:"space-y-3 my-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"text",placeholder:"닉네임",className:"w-full p-2 rounded-md bg-muted/30 border border-border/30 text-foreground",value:N,onChange:e=>h(e.target.value),maxLength:20})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"별점:"}),(0,r.jsx)("div",{className:"flex items-center",children:[1,2,3,4,5].map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>P(e),className:"p-1",children:(0,r.jsx)(c.Z,{className:"w-6 h-6 ".concat(e<=E?"fill-yellow-400 text-yellow-400":"text-yellow-400/40")})},e))}),(0,r.jsxs)("span",{className:"text-sm text-foreground/70",children:["(",E,"점)"]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{placeholder:"내용을 입력하세요...",className:"w-full p-2 rounded-md bg-muted/30 border border-border/30 text-foreground min-h-[80px]",value:w,onChange:e=>I(e.target.value),maxLength:200})})]}),(0,r.jsxs)(g,{children:[(0,r.jsx)(n.z,{onClick:()=>F(!1),className:"w-full sm:w-auto bg-muted/50 hover:bg-muted/70 text-foreground",children:"취소"}),(0,r.jsx)(n.z,{onClick:()=>{if(!N.trim()||!w.trim()||!s)return;let e=[{id:Date.now().toString(),nickname:N.trim(),content:w.trim(),timestamp:Date.now(),mbtiType:s,rating:E},...x];p(e),localStorage.setItem("mbti-comments",JSON.stringify(e)),h(""),I(""),P(5),F(!1)},className:"w-full sm:w-auto",children:"등록하기"})]})]})}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("h4",{className:"font-medium",children:["댓글 (",x.length,")"]}),B.length>0?(0,r.jsx)("div",{className:"space-y-3",children:B.map(e=>(0,r.jsxs)("div",{className:"p-3 bg-muted/20 rounded-md border border-border/20",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsxs)("div",{className:"font-medium text-foreground/90",children:[e.nickname," ",(0,r.jsxs)("span",{className:"text-xs text-primary",children:["(",e.mbtiType,")"]})]}),(0,r.jsx)("div",{className:"text-xs text-foreground/50",children:new Date(e.timestamp).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)("div",{className:"flex items-center",children:D(e.rating)}),(0,r.jsx)("span",{className:"text-xs ml-2 text-foreground/70",children:(e.rating||5).toFixed(1)})]}),(0,r.jsx)("p",{className:"text-sm text-foreground/80",children:e.content})]},e.id))}):(0,r.jsx)("p",{className:"text-center text-foreground/70 text-sm py-4",children:"아직 댓글이 없습니다. 첫 번째 댓글을 남겨보세요!"}),Z>1&&(0,r.jsx)("div",{className:"flex justify-center items-center space-x-1 mt-4",children:Array.from({length:Z},(e,t)=>t+1).map(e=>(0,r.jsx)("button",{onClick:()=>A(e),className:"px-3 py-1 rounded-md ".concat(v===e?"bg-primary text-primary-foreground":"bg-muted/30 hover:bg-muted/50 text-foreground/70"),children:e},e))})]})]})]}),(0,r.jsx)(a.eW,{className:"pt-2",children:(0,r.jsx)(o(),{href:"/",className:"w-full",children:(0,r.jsx)(n.z,{onClick:R,className:"w-full py-6 text-lg",children:"테스트 다시 하기"})})})]}):(0,r.jsxs)(a.Zb,{className:"w-full max-w-md mx-auto shadow-lg",children:[(0,r.jsxs)(a.Ol,{children:[(0,r.jsx)(a.ll,{className:"text-xl",children:"결과를 불러올 수 없습니다"}),(0,r.jsx)(a.SZ,{children:"테스트를 다시 시작해주세요."})]}),(0,r.jsx)(a.eW,{children:(0,r.jsx)(o(),{href:"/",children:(0,r.jsx)(n.z,{onClick:R,className:"w-full",children:"테스트 다시 하기"})})})]})};function I(){let{state:e}=(0,l.useMBTI)(),{result:t}=e;return((0,d.useEffect)(()=>{t||(window.location.href="/")},[t]),t)?(0,r.jsxs)("main",{className:"min-h-screen flex flex-col items-center justify-center p-4 space-bg",children:[(0,r.jsx)(w,{}),(0,r.jsx)("div",{className:"absolute bottom-4 left-0 right-0 text-center text-white/50 text-sm",children:(0,r.jsx)("p",{children:"MBTI 테스트 ✨"})})]}):null}}},function(e){e.O(0,[572,224,971,938,744],function(){return e(e.s=4787)}),_N_E=e.O()}]);